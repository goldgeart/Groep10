@{

    var Naam= "";
    var Prijs = "";
    var CatID = "";

    if(!IsPost){

        if(!Request.QueryString["ID"].IsEmpty() && Request.QueryString["ID"].IsInt()){
            CatID = Request.QueryString["ID"];
            var db = Database.Open("FONDANTI2");
            var dbCommand = "SELECT * FROM Ingredienten WHERE @0";
            var row = db.Query(dbCommand, CatID);
                if(row != null) {
                    Naam = row.Naam;
                    Prijs = row.Prijs;
                }
                else{
                    Validation.AddFormError("Er is geen Naam gevonden met dat ID.");
                }

        }
        else{
            Validation.AddFormError("Er is geen Naam geselecteerd.");
        }
    }
        if(IsPost){

        Validation.RequireField("Kado", "Je moet een kado invullen.");
        Validation.RequireField("Nummer", "Je moet een nummer invullen.");
        Validation.RequireField("ID", "Er is geen ID geselecteerd.");

        Naam = Request.Form["Kado"];
        Prijs = Request.Form["Nummer"];
        CatID = Request.Form["ProductID"];

        if(Validation.IsValid()){
            var db = Database.Open("FONDANTI2");
            var updateCommand = "UPDATE Ingredienten SET Naam=@0, Prijs=@1 WHERE ID=@2";
            db.Execute(updateCommand,Naam, Prijs, CatID);
            Response.Redirect("~/Admin.cshtml");
       }
    }
}

<!DOCTYPE html>

<html>
  <head>
   <meta charset="utf-8" />
   <title>Wijzig een kado.</title>
    <style>
      .validation-summary-errors{
        border:2px dashed red;
        color:red;
        font-weight:bold;
        margin:12px;
      }
    </style>
  </head>
</head>
<body>
  <h1>Wijzig een kado.</h1>
    @Html.ValidationSummary()
  <form method="post">
    <fieldset>
      <legend>Kado informatie</legend>

      <p><label for="Kado">Kado:</label>
         <input type="text" name="Kado" value="@Naam" /></p>

      <p><label for="Nummer">Nummer:</label>
         <input type="number" name="Nummer" value="@Prijs" /></p>

      <input type="text" name="ProductId" value="@CatID" />

      <p><input type="submit" name="buttonSubmit" value="Veranderingen opslaan." /></p>
    </fieldset>
  </form>

        <p><a href="~/Admin">Ga terug naar hoofdpagina.</a></p>

</body>
</html>

